<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cybersecurity Diagnostic Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
      background-color: #ffffff;
    }

    h1 {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      text-align: center;
    }

    .question {
      font-size: 20px;
      background-color: #d0ecff;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      font-weight: 500;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 40px;
    }

    .option {
      padding: 30px;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 10px;
      text-align: center;
      background-color: #1d3557;
      color: #fff;
      transition: 0.2s ease-in-out;
    }

    .option:hover:not(.disabled) {
      background-color: #457b9d;
    }

    .disabled {
      pointer-events: none;
      opacity: 0.9;
    }

    .correct {
      background-color: #90ee90 !important;
      color: #222;
    }

    .incorrect {
      background-color: #e63946 !important;
    }

    .next-btn, #generate-results-btn {
      background-color: #000;
      color: white;
      border: none;
      font-size: 16px;
      font-weight: bold;
      padding: 14px 36px;
      text-transform: uppercase;
      cursor: pointer;
      letter-spacing: 2px;
      border-radius: 4px;
      display: block;
      margin: 0 auto;
    }

    #results-button-container {
      display: none;
      text-align: center;
      margin-top: 20px;
    }

    @media (max-width: 700px) {
      .options {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <h1>Cybersecurity Quiz</h1>
  <h2 class="question"></h2>
  <div class="options"></div>
  <button class="next-btn" disabled>Next</button>
  <div id="results-button-container">
    <button id="generate-results-btn">Generate Results</button>
  </div>

  <script>
    const quizData = [
      {
        question: "What is phishing?",
        options: [
          "Fishing in a lake",
          "Scam to trick people into giving up personal data",
          "Secure login method",
          "Part of antivirus software"
        ],
        correct: "Scam to trick people into giving up personal data"
      },
      {
          question: "How can you recognize a phishing email?",
          options: ["The email is sent from a familiar and trusted email address.", 
                    "The email contains urgent or threatening language, asking you to take immediate action.",
                    "The email includes proper spelling and grammar with no suspicious links or attachments.",
                    "The email provides a clear company signature and legitimate contact information."],
          correct: "The email contains urgent or threatening language, asking you to take immediate action."
      },
      {
        question: "What does 2FA stand for?",
        options: [
          "Two-Factor Authentication",
          "Fast Access Login",
          "File Alert System",
          "None of the above"
        ],
        correct: "Two-Factor Authentication"
      },
      {
          question: "Why is it important to use different passwords for different accounts?",
          options: ["It ensures that if one account is compromised, other accounts remain secure.",
                    "Using different passwords helps you remember them more easily.",
                    "It helps websites load faster by reducing security checks.",
                    "Using different passwords prevents your internet connection from being hacked."],
          correct: "It ensures that if one account is compromised, other accounts remain secure.",
      },
      {
          question: "Why is it important for you to update your software for security purposes?",
          options: ["Updates allow you to change the appearance of your software and add new features.",
                    "Software updates are optional and only improve performance, with no impact on security. ",
                    "Updates fix vulnerabilities and security holes, protecting your system from cyberattacks and malware.",
                    "Updating software slows down your device, making it harder for hackers to target you."],
          correct: "Updates fix vulnerabilities and security holes, protecting your system from cyberattacks and malware.",
      },
    ];

    const questionEl = document.querySelector(".question");
    const optionsEl = document.querySelector(".options");
    const nextBtn = document.querySelector(".next-btn");
    const resultsContainer = document.getElementById("results-button-container");
    const resultsBtn = document.getElementById("generate-results-btn");

    let currentIndex = 0;
    let answers = [];
    let answered = false;

    function loadQuestion() {
      if (currentIndex >= quizData.length) {
        nextBtn.style.display = "none";
        resultsContainer.style.display = "block";
        return;
      }

      const current = quizData[currentIndex];
      questionEl.innerText = current.question;
      optionsEl.innerHTML = "";
      answered = false;
      nextBtn.disabled = true;

      current.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "option";
        btn.innerText = opt;
        btn.onclick = () => handleAnswer(btn, current.correct, current.question);
        optionsEl.appendChild(btn);
      });
    }

    function handleAnswer(btn, correct, question) {
      if (answered) return;
      answered = true;
      nextBtn.disabled = false;

      const selected = btn.innerText;
      const all = document.querySelectorAll(".option");
      all.forEach(b => {
        b.classList.add("disabled");
        if (b.innerText === correct) b.classList.add("correct");
        else b.classList.add("incorrect");
      });

      answers.push({ question, selected, correct });
    }

    nextBtn.onclick = () => {
      if (!answered) {
        alert("Please select an answer before continuing.");
        return;
      }
      currentIndex++;
      loadQuestion();
    };

    resultsBtn.onclick = () => {
      localStorage.setItem("quizResults", JSON.stringify(answers));
      localStorage.setItem("quizData", JSON.stringify(quizData));
      window.location.href = "results.html";
    };

    loadQuestion();
  </script>

</body>
</html>
